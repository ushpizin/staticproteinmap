(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(5447)}])},5677:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{noSSR:function(){return o},default:function(){return u}});let r=n(4788),l=n(8754),i=(n(7294),l._(n(8976)));function a(e){return{default:(null==e?void 0:e.default)||e}}function o(e,t){return delete t.webpack,delete t.modules,e(t)}function u(e,t){let n=i.default,l={loading:e=>{let{error:t,isLoading:n,pastDelay:r}=e;return null}};e instanceof Promise?l.loader=()=>e:"function"==typeof e?l.loader=e:"object"==typeof e&&(l=r._({},l,e)),l=r._({},l,t);let u=l.loader,s=()=>null!=u?u().then(a):Promise.resolve(a(()=>null));return(l.loadableGenerated&&(l=r._({},l,l.loadableGenerated),delete l.loadableGenerated),"boolean"!=typeof l.ssr||l.ssr)?n(r._({},l,{loader:s})):(delete l.webpack,delete l.modules,o(n,l))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2254:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LoadableContext",{enumerable:!0,get:function(){return i}});let r=n(8754),l=r._(n(7294)),i=l.default.createContext(null)},8976:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return h}});let r=n(4788),l=n(8754),i=l._(n(7294)),a=n(2254),o=[],u=[],s=!1;function d(e){let t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then(e=>(n.loading=!1,n.loaded=e,e)).catch(e=>{throw n.loading=!1,n.error=e,e}),n}class c{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state=r._({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function f(e){return function(e,t){let n=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},t),r=null;function l(){if(!r){let t=new c(e,n);r={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return r.promise()}if(!s){let e=n.webpack?n.webpack():n.modules;e&&u.push(t=>{for(let n of e)if(-1!==t.indexOf(n))return l()})}function o(e,t){!function(){l();let e=i.default.useContext(a.LoadableContext);e&&Array.isArray(n.modules)&&n.modules.forEach(t=>{e(t)})}();let o=i.default.useSyncExternalStore(r.subscribe,r.getCurrentValue,r.getCurrentValue);return i.default.useImperativeHandle(t,()=>({retry:r.retry}),[]),i.default.useMemo(()=>{var t;return o.loading||o.error?i.default.createElement(n.loading,{isLoading:o.loading,pastDelay:o.pastDelay,timedOut:o.timedOut,error:o.error,retry:r.retry}):o.loaded?i.default.createElement((t=o.loaded)&&t.default?t.default:t,e):null},[e,o])}return o.preload=()=>l(),o.displayName="LoadableComponent",i.default.forwardRef(o)}(d,e)}function p(e,t){let n=[];for(;e.length;){let r=e.pop();n.push(r(t))}return Promise.all(n).then(()=>{if(e.length)return p(e,t)})}f.preloadAll=()=>new Promise((e,t)=>{p(o).then(e,t)}),f.preloadReady=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise(t=>{let n=()=>(s=!0,t());p(u,e).then(n,n)})},window.__NEXT_PRELOADREADY=f.preloadReady;let h=f},3828:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var r=n(5893),l=n(166),i=n(5152),a=n.n(i);function o(){var e,t;let n=(e=["\n  background-color: #003366;\n  background-image: linear-gradient(\n      to right,\n      rgba(255, 255, 255, 0.1) 1px,\n      transparent 1px\n    ),\n    linear-gradient(to bottom, rgba(255, 255, 255, 0.1) 1px, transparent 1px);\n  background-size: 50px 50px;\n  background-position: center center;\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return o=function(){return n},n}let u=a()(()=>n.e(265).then(n.bind(n,1265)),{loadableGenerated:{webpack:()=>[1265]},ssr:!1}),s=l.Z.div(o());var d=function(e){var t;let{atoms:n,links:l,style:i}=e,a={nodes:null!==(t=null==n?void 0:n.map((e,t)=>({id:t,label:e.label,chain:e.chain,color:e.color})))&&void 0!==t?t:[],links:null!=l?l:[]};return(0,r.jsx)(s,{style:{...i},children:(0,r.jsx)(u,{graphData:a,linkCanvasObject:(e,t)=>{t.beginPath(),t.strokeStyle="rgba(255,255,255,0.6)",t.lineWidth=2,t.moveTo(e.source.x,e.source.y),t.lineTo(e.target.x,e.target.y),t.stroke()},nodeCanvasObject:(e,t,n)=>{let r=e.label,l=12/n;t.font="".concat(l,"px Sans-Serif");let i=t.measureText(r).width,a=[i,l].map(e=>e+.2*l);t.fillStyle="rgba(255, 255, 255, 0.1)",t.fillRect(e.x-a[0]/2,e.y-a[1]/2,a[0],a[1]),t.textAlign="center",t.textBaseline="middle",t.fillStyle=e.color,t.fillText(r,e.x,e.y),e.__bckgDimensions=a},nodePointerAreaPaint:(e,t,n)=>{n.fillStyle=t;let r=e.__bckgDimensions;r&&n.fillRect(e.x-r[0]/2,e.y-r[1]/2,r[0],r[1])}})})}},5447:function(e,t,n){"use strict";n.r(t),n.d(t,{Atom:function(){return d},default:function(){return c}});var r=n(5893),l=n(3828),i=n(7489),a=n(5059),o=(0,i.m)("div");o.displayName="Box";var u=(0,a.G)(function(e,t){let{size:n,centerContent:l=!0,...i}=e;return(0,r.jsx)(o,{ref:t,boxSize:n,__css:{...l?{display:"flex",alignItems:"center",justifyContent:"center"}:{},flexShrink:0,flexGrow:0},...i})});u.displayName="Square",(0,a.G)(function(e,t){let{size:n,...l}=e;return(0,r.jsx)(u,{size:n,ref:t,borderRadius:"9999px",...l})}).displayName="Circle";var s=n(7294);class d{get chain(){return this.desc.split(" ")[0]}get amino_acid(){return this.desc.split(" ")[1]}get position(){return this.desc.split(" ")[2]}get atoms(){return this.desc.split(" ")[3]}get color(){var e;return null!==(e=({"/A":"white","/B":"#FF6600"})[this.chain])&&void 0!==e?e:"gray"}get label(){return"".concat(this.amino_acid," ").concat(this.position)}get id(){return"".concat(this.chain," ").concat(this.amino_acid," ").concat(this.position)}constructor(e){this.desc=e}}var c=function(){let[e,t]=(0,s.useState)(!1),[n,i]=(0,s.useState)([]),[a,u]=(0,s.useState)([]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(o,{flex:"1",onDrop:function(e){e.preventDefault(),t(!1);let n=e.dataTransfer.files[0],r=new FileReader;r.onload=function(e){var t,n;if(!(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.result)||"string"!=typeof(null==e?void 0:null===(n=e.target)||void 0===n?void 0:n.result))return;let r=e.target.result.split("\n"),l=[];for(let e of r){let t=function(e){if(!(e=e.replace("N/A","").trim()).includes("/A")&&!e.includes("/B"))return null;let t=e.split(/\s{2,}/).map(e=>e.trim()),n=parseFloat(t[t.length-1]),r=new d(t[0]),l=new d(t[1]);return[r,l,n]}(e);t&&t[0].chain!=t[1].chain&&l.push([t[0],t[1]])}let[a,o]=function(e){let t={},n=[],r=[],l=0;function i(e){return Object.keys(t).includes(e.id)||(n.push(e),t[e.id]=l++),t[e.id]}for(let[t,n]of e){let e=i(t),l=i(n);r.find(t=>{let{source:n,target:r}=t;return e==n&&l==r||e==r&&l==n})||r.push({source:e,target:l})}return[n,r]}(l);i(a),u(o)},r.readAsText(n)},onDragOver:function(e){e.preventDefault(),t(!0)},onDragLeave:function(e){e.preventDefault(),t(!1)},children:(0,r.jsx)(l.default,{atoms:n,links:a,style:{...e?{backgroundColor:"#333333",border:"10px dashed white"}:{}}})})})}},5152:function(e,t,n){e.exports=n(5677)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);